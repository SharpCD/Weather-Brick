#:import XCamera kivy_garden.xcamera.XCamera

ScreenManager:
    Loading:
    SignIn:
    SignUp:
    EmailConfirmation:
    MenuWindow:
    LibrarySelection:
    MyClothesWindow:
    ClothesWindow:
    CameraScreen:
    Map:
    Place:

<Loading>
    name: 'loading'
    MDFloatLayout:
        FitImage:
            id: img
            source: 'Data/Image//loading morning.png'

<SignIn>
    name: 'sign_in'
    entry: entry
    email: email
    next_btn:next_btn
    password:password
    sign_up_btn:sign_up_btn
    log_in_btn: log_in_btn
    previous_btn:previous_btn
    frgt_password: frgt_password
    slide: slide
    skip:skip
    back: back
    card: card
    MDFloatLayout:
        FitImage:
            id: back
            source: 'Data/Image//loading morning.png'
        MDCard:
            id: card
            size_hint: (.9, .37)
            pos_hint:{'center_x': .5, 'center_y': .5}
            md_bg_color:rgba(196, 191, 196, 255)
            radius: [20, 20, 20, 20]
            Carousel:
                id: slide
                min_move: 10
                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .5}
                    MDTextField:
                        id:email
                        text: ''
                        text_color_normal:'white'
                        size_hint: (.9, .21)
                        icon_left: "email"
                        icon_left_color_normal:'white'
                        multiline:False
                        hint_text:'Email'
                        font_size:
                        color_mode: 'custom'
                        hint_text_color_normal: 'white'
                        pos_hint:{'center_x': .5, 'center_y': .68}
                    Button:
                        id: next_btn
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size:
                        text: 'ДАЛЬШЕ'
                        on_release:
                            root.manager.get_screen('sign_in').next()
                        background_color: 1, 1, 1, 0
                        canvas.before:
                            Color:
                                rgb: rgba(158,153,163, 255)
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [23, 23, 23, 23]
                    MDRoundFlatButton:
                        id: sign_up_btn
                        text: "ЗАРЕГИСТРИРОВАТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: "white"
                        line_color: "white"
                        on_release:
                            root.manager.current = 'sign_up'
                            root.manager.transition.direction = 'left'
                    MDTextButton:
                        id: skip
                        halign: 'center'
                        text: "Пропустить"
                        size_hint_x:  .5
                        color: rgba(135, 135, 135, 255)
                        pos_hint:{'center_x': .5, 'center_y': .11}
                        on_release:
                            root.manager.transition.direction = 'left'
                            root.manager.current = 'menu_window'

                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .5}
                    MDTextField:
                        id:password
                        text: ''
                        text_color_normal:'white'
                        size_hint: (.9, .21)
                        multiline:False
                        hint_text:'Пароль'
                        font_size:
                        pos_hint:{'center_x': .5, 'center_y': .68}
                        hint_text_color_normal: 'white'
                        password: True
                        icon_left: "key-variant"
                        icon_left_color_normal:'white'
                    MDIconButton:
                        icon: "eye-off"
                        pos_hint: {'center_x': .9, "center_y": .69}
                        on_release:
                            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                            password.password = False if password.password is True else True
                    Button:
                        id: log_in_btn
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size:
                        text: 'ВОЙТИ'
                        on_release:
                            root.manager.get_screen('sign_in').log_in_information()
                        background_color: 1, 1, 1, 0
                        canvas.before:
                            Color:
                                rgb: rgba(158,153,163, 255)
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [23, 23, 23, 23]
                    MDRoundFlatButton:
                        id: previous_btn
                        text: "ВЕРНУТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: "white"
                        line_color: "white"
                        on_release:
                            root.manager.get_screen('sign_in').previous()

                    MDTextButton:
                        id: frgt_password
                        text: "Забыли пароль?"
                        halign: 'center'
                        size_hint_x:  .5
                        font_size:
                        color: "orange"
                        pos_hint:{'center_x': .5, 'center_y': .12}
                        on_release:
                            root.manager.current = 'menu_window'
                            root.manager.transition.direction = 'left'
        MDLabel:
            halign: 'center'
            id: entry
            font_size:
            text: 'Вход'
            pos_hint:{'center_x': .5, 'center_y': .65}
<SignUp>
    name: 'sign_up'
    slide:slide
    frst_name:frst_name
    last_name:last_name
    next_btn1:next_btn1
    next_btn2:next_btn2
    next_btn3:next_btn3
    email:email
    number:number
    password: password
    repeat_password:repeat_password
    sign_in_btn:sign_in_btn
    previous_btn1: previous_btn1
    previous_btn2:previous_btn2
    num1:num1
    num2:num2
    num3:num3
    progressbar1:progressbar1
    progressbar2:progressbar2

    MDFloatLayout:
        FitImage:
            source: 'Data/Image//loading night.png'
        MDCard:
            size_hint: (.9, .37)
            pos_hint:{'center_x': .5, 'center_y': .5}
            md_bg_color:rgba(51,52,98, 255)
            radius: [20, 20, 20, 20]

            Carousel:
                id: slide
                min_move: 10
                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .34}
                    MDTextField:
                        id:frst_name
                        text: ''
                        size_hint: (.9, .21)
                        icon_left: "account"
                        multiline:False
                        hint_text:'Имя'
                        font_size:
                        color_mode: 'custom'
                        pos_hint:{'center_x': .5, 'center_y': .82}
                        line_color_normal:'white'
                        icon_left_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    MDTextField:
                        id:last_name
                        text: ''
                        size_hint: (.9, .21)
                        multiline:False
                        hint_text:'Фамилия'
                        font_size:
                        pos_hint:{'center_x': .5, 'center_y': .65}
                        hint_text_color_normal: rgba(135, 135, 135, 255)
                        icon_left: "account"
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    Button:
                        id: next_btn1
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size:
                        text: 'ДАЛЬШЕ'
                        on_release:
                            root.manager.get_screen('sign_up').next1()
                        background_color: 1, 1, 1, 0
                        canvas.before:
                            Color:
                                rgb: rgba(48,154,239,255)
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [23, 23, 23, 23]
                    MDRoundFlatButton:
                        id: sign_in_btn
                        text: "ВЕРНУТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: rgba(48,154,239,255)
                        line_color: rgba(48,154,239,255)
                        on_release:
                            root.manager.get_screen('sign_up').previous1()
                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .34}
                    MDTextField:
                        id:email
                        text: ''
                        size_hint: (.9, .21)
                        icon_left: "email"
                        multiline:False
                        hint_text:'Email'
                        font_size:
                        color_mode: 'custom'
                        pos_hint:{'center_x': .5, 'center_y': .82}
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    MDTextField:
                        id:number
                        text: ''
                        size_hint: (.9, .21)
                        multiline:False
                        hint_text:'Номер телефона'
                        font_size:
                        pos_hint:{'center_x': .5, 'center_y': .65}
                        hint_text_color_normal: rgba(135, 135, 135, 255)
                        icon_left: "phone"
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    Button:
                        id: next_btn2
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size:
                        text: 'ДАЛЬШЕ'
                        on_release:
                            root.manager.get_screen('sign_up').next2()
                        background_color: 1, 1, 1, 0
                        canvas.before:
                            Color:
                                rgb: rgba(48,154,239,255)
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [23, 23, 23, 23]
                    MDRoundFlatButton:
                        id: previous_btn1
                        text: "ВЕРНУТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: rgba(48,154,239,255)
                        line_color: rgba(48,154,239,255)
                        on_release:
                            root.manager.get_screen('sign_up').previous2()
                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .34}
                    MDTextField:
                        id:password
                        password: True
                        text: ''
                        size_hint: (.9, .21)
                        icon_left: "key-variant"
                        multiline:False
                        hint_text:'Пароль'
                        font_size:
                        color_mode: 'custom'
                        pos_hint:{'center_x': .5, 'center_y': .82}
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    MDTextField:
                        id:repeat_password
                        password: True
                        text: ''
                        size_hint: (.9, .21)
                        multiline:False
                        hint_text:'Повторите пароль'
                        font_size:
                        pos_hint:{'center_x': .5, 'center_y': .65}
                        hint_text_color_normal: rgba(135, 135, 135, 255)
                        icon_left: "key-variant"
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    Button:
                        id: next_btn3
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size:
                        text: 'ДАЛЬШЕ'
                        on_release:
                            root.manager.get_screen('sign_up').next3()
                        background_color: 1, 1, 1, 0
                        canvas.before:
                            Color:
                                rgb: rgba(48,154,239,255)
                            RoundedRectangle:
                                pos: self.pos
                                size: self.size
                                radius: [23, 23, 23, 23]
                    MDRoundFlatButton:
                        id: previous_btn2
                        text: "ВЕРНУТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: rgba(48,154,239,255)
                        line_color: rgba(48,154,239,255)
                        on_release:
                            root.manager.get_screen('sign_up').previous3()
        MDIconButton:
            id: num1
            icon: 'numeric-1-circle'
            pos_hint:{'center_x': .20, 'center_y': .63}
            icon_size:
            theme_icon_color: "Custom"
            icon_color:
        MDIconButton:
            id: num2
            theme_icon_color: "Custom"
            icon_color:
            icon: 'numeric-2-circle'
            pos_hint:{'center_x': .5, 'center_y': .63}
            icon_size:
            icon_color:
        MDIconButton:
            id: num3
            icon: 'numeric-3-circle'
            pos_hint:{'center_x': .8, 'center_y': .63}
            icon_size:
            theme_icon_color: "Custom"
            icon_color:
        MDProgressBar:
            id: progressbar1
            size_hint_x: .15
            color: rgba(48,154,239,255)
            pos_hint:{'center_x': .35, 'center_y': .63}
            value:
        MDProgressBar:
            id: progressbar2
            size_hint_x: .15
            color: rgba(48,154,239,255)
            pos_hint:{'center_x': .65, 'center_y': .63}
            value:


<EmailConfirmation>
    name: 'email_confirmation'
    email_conf: email_conf
    text:text
    conf_code: conf_code
    send_code:send_code
    return_to_sign_up:return_to_sign_up
    MDFloatLayout:
        FitImage:
            source: 'Data/Image//loading night.png'
        MDFloatLayout:
            size_hint: (.9, .37)
            pos_hint:{'center_x': .5, 'center_y': .5}
            canvas:
                Color:
                    rgb: rgba(51,52,98, 255)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20, 20, 20, 20]
            MDLabel:
                id: email_conf
                halign: 'center'
                font_size:
                text: 'Подтвердите Email'
                pos_hint:{'center_x': .5, 'center_y': .86}
            MDLabel:
                id: text
                font_size:
                text: 'Мы выслали вам 4-х значный код на Email.\nВведите его в поле ниже'
                pos_hint:{'center_x': .58, 'center_y': .7}
            MDTextField:
                id:conf_code
                text: ''
                size_hint: (.9, .21)
                multiline:False
                hint_text:'Код подтверждения'
                font_size:
                pos_hint:{'center_x': .5, 'center_y': .5}
                hint_text_color_normal: rgba(135, 135, 135, 255)
                line_color_normal:'white'
                text_color_normal: 'white'
                hint_text_color_normal: 'white'
                line_color_focus: rgba(48,154,239,255)
                hint_text_color_focus: rgba(48,154,239,255)
                icon_left_color_focus: rgba(48,154,239,255)
                text_color_focus:rgba(48,154,239,255)
            Button:
                id: send_code
                size_hint: (.9, .14)
                pos_hint:{'center_x': .5, 'center_y': .3}
                font_size:
                text: 'ОТПРАВИТЬ КОД'
                on_release:
                    root.manager.get_screen('email_confirmation').checking_code()
                background_color: 1, 1, 1, 0
                canvas.before:
                    Color:
                        rgb: rgba(48,154,239,255)
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [23, 23, 23, 23]
            MDRoundFlatButton:
                id: return_to_sign_up
                text: "ВЕРНУТЬСЯ"
                theme_text_color: "Custom"
                font_size:
                size_hint: (.9, .14)
                pos_hint:{ 'center_x': .5, 'center_y': .12}
                text_color: rgba(48,154,239,255)
                line_color: rgba(48,154,239,255)
                on_release:
                    root.manager.get_screen('sign_up').ids.num3.icon = 'numeric-3-circle'
                    root.manager.get_screen('sign_up').ids.num3.icon_color = 'white'
                    root.manager.current = 'sign_up'
                    root.manager.transition.direction = 'right'


<MenuWindow>
    name: 'menu_window'
    btn: btn
    img: img
    time: time
    city:city
    sost:sost
    temp:temp
    prssr: prssr
    hmdt: hmdt
    wnd: wnd
    btn_clothes:btn_clothes
    gl:gl
    map_btn: map_btn
    menu:menu
    lat:lat
    lon:lon
    nav_drawer:nav_drawer
    MDFloatLayout:
        MDLabel:
            id: lat
            text: ''
        MDLabel:
            id: lon
            text: ''

        FitImage:
            id: img
            source: ''
        MDIconButton:
            id:menu
            icon:'menu'
            icon_size:
            pos_hint: {"center_x": .09, "center_y": .95}
            on_release:
                nav_drawer.set_state("open")

        MDFloatLayout:
            size_hint: (.6, .044)
            pos_hint:{'x': .2, 'y': .88}
            canvas:
                Color:
                    rgb: rgba(255, 255, 255, 255)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [10, 10, 10, 10]
        MDFloatLayout:
            size_hint: (.6, .044)
            pos_hint:{'x': .2, 'y': .825}
            opacity: .12
            canvas:
                Color:
                    rgb: rgba(0, 0, 0, 255)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [10, 10, 10, 10]
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: (.6, .15)
            pos_hint:{'x': .2, 'y': .825}
            spacing:8

            MDLabel:
                halign: 'center'
                id: time
                text: ''
                font_size:
                font_name:
            TextInput:
                id: city
                halign: 'center'
                text: ''
                hint_text: 'Введите город'
                font_size:
                multiline: False
                padding:
                background_color: 1, 1, 1, 0
            MDFlatButton:
                id: btn
                pos_hint: {"center_x": .5, "center_y": .5}
                font_size:
                text: 'Узнать погоду'
                on_release: root.manager.get_screen('menu_window').get_city()
                text_color: 'white'
        Button:
            id: map_btn
            background_normal: ''
            background_down: ''
            size_hint:
            pos_hint: {'center_x': .9, 'center_y': .95}
            on_release:
                root.manager.current = 'place'
                root.manager.transition.direction = 'left'
        MDBoxLayout:
            orientation:"vertical"
            size_hint: (1, .1)
            pos_hint:{'x': 0, 'y': .60}
            spacing: 30
            MDLabel:
                halign: 'center'
                id:sost
                text:''
                font_size:
            MDLabel:
                halign: 'center'
                id:temp
                text:''
                font_size:
        MDGridLayout:
            cols:2
            size_hint:(.9, .32)
            pos_hint: {'x': .21, 'y': .147}
            MDLabel:
                id: prssr
                text:''
                font_size:
            MDLabel:
                id: hmdt
                text:''
                font_size:
            MDLabel:
                id: wnd
                text:''
                font_size:
        Button:
            id: btn_clothes
            background_color: 1, 1, 1, 0
            text: 'Рекомендуемая\nодежда'
            size_hint:(.3, .05)
            pos_hint:{'x': .655, 'y': .2048}
            font_size:
            on_release:
                root.manager.transition.direction = 'left'
                root.manager.current ='library_selection'
        MDFloatLayout:
            size_hint:(1, .17)

            ScrollView:
                do_scroll_x: True
                do_scroll_y: False

                GridLayout:
                    id: gl
                    size_hint_x: None
                    cols:10
                    spacing: .8
                    width: self.minimum_width

        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)
            scrim_color: 0, 0, 0, 0.8
            opacity: .12

<LibrarySelection>
    name:'library_selection'
    back:back
    text:text
    arrow1:arrow1
    MDFloatLayout:
        FitImage
            id: back
            source: ''
        MDIconButton:
            id: arrow1
            icon: 'arrow-left'
            pos_hint:{ 'center_x': .1, 'center_y': .95}
            icon_size:
            on_release:
                root.manager.current = 'menu_window'
                root.manager.transition.direction = 'right'
        MDLabel:
            halign: 'center'
            id: text
            text:'Выберете библиотеку изображений'
            font_size:
            pos_hint:{ 'center_x': .5, 'center_y': .87}

        MDRoundFlatButton:
            text: "моя библиотека"
            theme_text_color: "Custom"
            text_color: "white"
            size_hint:(.8, .07)
            pos_hint:{ 'center_x': .5, 'center_y': .58}
            line_color: "white"
            on_release:
                root.manager.current = 'my_clothes_window'
                root.manager.transition.direction = 'left'
        MDRoundFlatButton:
            text: "библиотека приложения"
            theme_text_color: "Custom"
            size_hint:(.8, .07)
            pos_hint:{ 'center_x': .5, 'center_y': .42}
            text_color: "white"
            line_color: "white"
            on_release:
                root.manager.current = 'clothes_window'
                root.manager.transition.direction = 'left'
<MyClothesWindow>
    name: "my_clothes_window"
    back:back
    text:text
    arrow1:arrow1
    camera:camera
    MDFloatLayout:
        FitImage
            id: back
            source: ''
        Carousel:
            id: slide
            min_move: 10
            MDFloatLayout:
                MDIconButton:
                    id: arrow1
                    icon: 'arrow-left'
                    pos_hint:{ 'center_x': .1, 'center_y': .95}
                    icon_size:
                    on_release:
                        root.manager.current = 'library_selection'
                        root.manager.transition.direction = 'right'
                MDIconButton:
                    id: camera
                    icon: 'camera-plus'
                    pos_hint:{ 'center_x': .9, 'center_y': .95}
                    icon_size:
                    on_release:
                        root.manager.get_screen('camera').enter()
                        root.manager.current = 'camera'
                        root.manager.transition.direction = 'left'
                MDLabel:
                    halign: 'center'
                    id: text
                    text:'Выберете cтиль'
                    font_size:
                    pos_hint:{ 'center_x': .5, 'center_y': .9}

                MDRoundFlatButton:
                    text: "classic"
                    theme_text_color: "Custom"
                    text_color: "white"
                    size_hint:(.8, .07)
                    pos_hint:{ 'center_x': .5, 'center_y': .65}
                    line_color: "white"
                    on_release:
                        root.manager.get_screen('clothes_window').next2('classic//')
                MDRoundFlatButton:
                    text: "casual"
                    theme_text_color: "Custom"
                    size_hint:(.8, .07)
                    pos_hint:{ 'center_x': .5, 'center_y': .5}
                    text_color: "white"
                    line_color: "white"
                    on_release:
                        root.manager.get_screen('clothes_window').next2('casual//')
                MDRoundFlatButton:
                    text: "sport"
                    theme_text_color: "Custom"
                    size_hint:(.8, .07)
                    pos_hint:{ 'center_x': .5, 'center_y': .35}
                    text_color: "white"
                    line_color: "white"
                    on_release:
                        root.manager.get_screen('clothes_window').next2('sport//')
            MDFloatLayout:
                MDLabel:
                    halign: 'center'
                    id: text2
                    text:'Для данных погодных условий в вашей библиотеке отсутствувет подходящая одежда'
                    font_size:
                    pos_hint:{ 'center_x': .5, 'center_y': .6}
<ClothesWindow>
    name: "clothes_window"
    back: back
    arrow1: arrow1
    text1: text1
    arrow2: arrow2
    text2: text2
    male: male
    female: female
    slide: slide
    clothe:clothe

    MDFloatLayout:
        FitImage
            id: back
            source: ''
        Carousel:
            id: slide
            min_move: 10
            MDFloatLayout:
                MDIconButton:
                    id: arrow1
                    icon: 'arrow-left'
                    pos_hint:{ 'center_x': .1, 'center_y': .95}
                    icon_size:
                    on_release:
                        root.manager.current = 'library_selection'
                        root.manager.transition.direction = 'right'
                MDLabel:
                    halign: 'center'
                    id: text1
                    text:'Выберете пол'
                    font_size:
                    pos_hint:{ 'center_x': .5, 'center_y': .9}
                MDIconButton:
                    id: male
                    icon: 'human-male'
                    pos_hint:{ 'center_x': .25, 'center_y': .5}
                    icon_size: '90sp'
                    on_release:
                        root.manager.get_screen('clothes_window').next1('man/')
                MDIconButton:
                    id: female
                    icon: 'human-female'
                    pos_hint:{ 'center_x': .75, 'center_y': .5}
                    icon_size: '90sp'
                    on_release:
                        root.manager.get_screen('clothes_window').next1('woman/')
            MDFloatLayout:
                MDIconButton:
                    id: arrow2
                    icon: 'arrow-left'
                    pos_hint:{ 'center_x': .1, 'center_y': .95}
                    icon_size:
                    on_release:
                        root.manager.get_screen('clothes_window').back_to_gender()
                MDLabel:
                    halign: 'center'
                    id: text2
                    text:'Выберете cтиль'
                    font_size:
                    pos_hint:{ 'center_x': .5, 'center_y': .9}

                MDRoundFlatButton:
                    text: "classic"
                    theme_text_color: "Custom"
                    text_color: "white"
                    size_hint:(.8, .07)
                    pos_hint:{ 'center_x': .5, 'center_y': .65}
                    line_color: "white"
                    on_release:
                        root.manager.get_screen('clothes_window').next2('classic//')
                MDRoundFlatButton:
                    text: "casual"
                    theme_text_color: "Custom"
                    size_hint:(.8, .07)
                    pos_hint:{ 'center_x': .5, 'center_y': .5}
                    text_color: "white"
                    line_color: "white"
                    on_release:
                        root.manager.get_screen('clothes_window').next2('casual//')
                MDRoundFlatButton:
                    text: "sport"
                    theme_text_color: "Custom"
                    size_hint:(.8, .07)
                    pos_hint:{ 'center_x': .5, 'center_y': .35}
                    text_color: "white"
                    line_color: "white"
                    on_release:
                        root.manager.get_screen('clothes_window').next2('sport//')
            MDFloatLayout:
                Button:
                    id: clothe
                    background_normal: ''
                    on_release:
                        root.manager.get_screen('clothes_window').to_main_window()

<CameraScreen>
    name: 'camera'
    camera:camera
    arrow1:arrow1
    image_btn:image_btn
    take_photo:take_photo
    Carousel:
        id: slide
        FloatLayout:
            Camera:
                id: camera
                play: False
            MDIconButton:
                id: arrow1
                icon: 'arrow-left'
                pos_hint:{ 'center_x': .1, 'center_y': .95}
                icon_size:
                on_release:
                    root.manager.current = 'my_clothes_window'
                    root.manager.transition.direction = 'right'
            MDIconButton:
                id: take_photo
                icon: 'checkbox-blank-circle-outline'
                pos_hint:{ 'center_x': .5, 'center_y': .1}
                icon_size:
                on_release:
            MDIconButton:
                id: image_btn
                icon: 'image'
                pos_hint:{ 'center_x': .8, 'center_y': .1}
                icon_size:
                on_release:

<Place>
    name: 'place'
    back: back
    brock: brock
    arrow1:arrow1
    text1: text1
    map:map
    search:search
    switching:switching
    box:box
    fl:fl
    slide:slide
    MDFloatLayout:


        FitImage:
            id: back
            source: ''
        MDFloatLayout
            id: brock
        MDLabel:
            halign: 'center'
            id: text1
            text: 'Выберете категорию'
            pos_hint:{ 'center_x': .5, 'center_y': .9}
            font_size:

        Carousel:
            id: slide
            min_move: 10

            MDFloatLayout:
                size_hint: (1, .6)
                pos_hint:{'center_x': .55, 'center_y': .3}
                MDScrollView:
                    pos_hint:{'center_x': .5, 'center_y': .5}
                    do_scroll_x: False
                    do_scroll_y: True
                    MDBoxLayout:
                        id:box
                        size_hint_y: None
                        size_hint_x: .9
                        height: self.minimum_height
                        halign: 'center'
                        orientation: 'vertical'
            MDFloatLayout
                id:fl
        Button:
            id: search
            halign: 'center'
            background_normal: "Data/Image//search.png"
            background_down: "Data/Image//search.png"
            pos_hint:{ 'center_x': .5, 'center_y': .8}
            size_hint:
            on_release:
                root.manager.get_screen('place').category()
        MDFloatLayout:
            md_bg_color: 'white'
            pos_hint:{'center_x': .5, 'center_y': .72}
            size_hint:(.004, .02)
        MDFloatLayout:
            id: switching
            pos_hint:{'center_x': .325, 'center_y': .72}
            size_hint:(.31, .04)
            opacity: .12
            canvas:
                Color:
                    rgb: rgba(0, 0, 0, 255)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [16, 16, 16, 16]

        MDBoxLayout:
            pos_hint:{'center_x': .5, 'center_y': .72}
            size_hint:(.7, .04)

            MDRoundFlatButton:
                text: "Список"
                text_color: "white"
                size_hint_x: .5
                line_color: 1, 1, 1, 0
                on_release:
                    root.manager.get_screen('place').segmented_control(switching, 0.325)
                    root.manager.get_screen('place').slide.load_previous()

            MDRoundFlatButton:
                text: "Карта"
                text_color: "white"
                size_hint_x: .5
                line_color: 1, 1, 1, 0
                on_release:
                    root.manager.get_screen('place').segmented_control(switching, 0.675)
                    root.manager.get_screen('place').slide.load_next(mode='next')



        MDIconButton:
            id: arrow1
            icon: 'arrow-left'
            pos_hint:{ 'center_x': .1, 'center_y': .95}
            icon_size:
            on_release:

                root.manager.current = 'menu_window'
                root.manager.transition.direction = 'right'




<Map>
    name: 'map'





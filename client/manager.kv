#:import NoTransition kivy.uix.screenmanager.NoTransition

<DrawerLabelItem@MDNavigationDrawerItem>
    text_color: "white"
    icon_color: "white"
    selected_color: "white"
    _no_ripple_effect: True
    font_size: root.height / 10


<HeroItem>
    size_hint_y: None
    height: "321dp"
    radius: 24

    MDSmartTile:
        id: tag_0
        radius: 24
        box_radius: 0, 0, 24, 24
        box_color: 0, 0, 0, 0
        source: root.source
        size_hint: None, None
        size: root.size
        mipmap: True
        on_release: root.on_release()



MDFloatLayout:
    bar:bar
    scm:scm
    nav_icon1:nav_icon1
    nav_icon2:nav_icon2
    nav_icon3:nav_icon3
    nav_icon4:nav_icon4
    nav_icon5:nav_icon5
    MDScreenManager:
        id: scm
        transition: NoTransition()
        Loading:
        SignIn:
        SignUp:
        EmailConfirmation:
        MenuWindow:
        MyClothesWindow:
        ClothesWindow:
        ClothesImage:
        ClothesImage2:
        CameraScreen:
        Place:
        UploadingImages:

    NavBar:
        id: bar
        size_hint: .95, .06
        pos_hint:{'center_x': .5, 'center_y': 0}
        MDFloatLayout:
            md_bg_color: 0,0,0,1
            pos_hint:{'center_x': .5, 'center_y': .07}
            opacity: .12
            radius: [self.height//4]
        MDBoxLayout:
            size_hint: .8, 1
            pos_hint:{'center_x': .5, 'center_y': 0}
            orientation: 'horizontal'
            spacing:self.width//18
            MDIconButton:
                halign: 'center'
                id: nav_icon1
                icon: 'weather-partly-cloudy'
                ripple_scale: 0
                theme_text_color: 'Custom'
                text_color: 'gray'
                icon_size: root.height / 30
                on_release:
                    scm.current = 'menu_window'
                    app.change_color(self)
            MDIconButton:
                halign: 'center'
                id: nav_icon2
                icon: 'map-search'
                ripple_scale: 0
                theme_text_color: 'Custom'
                text_color: 1, 1, 1, 1
                on_release:
                    scm.current = 'place'
                    app.change_color(self)
                icon_size: root.height / 30
            MDIconButton:
                halign: 'center'
                id: nav_icon3
                icon: 'tshirt-crew'
                ripple_scale: 0
                theme_text_color: 'Custom'
                text_color: 1, 1, 1, 1
                on_release:
                    app.change_color(self)
                    scm.current = 'clothes_window'
                icon_size: root.height / 30
            MDIconButton:
                halign: 'center'
                id: nav_icon4
                icon: 'camera'
                ripple_scale: 0
                theme_text_color: 'Custom'
                text_color: 1, 1, 1, 1
                on_release:
                    scm.current = 'camera'
                    app.change_color(self)
                icon_size: root.height / 30
            MDIconButton:
                halign: 'center'
                id: nav_icon5
                icon: 'folder-account'
                badge_icon: "numeric-5"
                ripple_scale: 0
                theme_text_color: 'Custom'
                text_color: 1, 1, 1, 1
                on_release:
                    app.change_color(self)
                    scm.current = 'my_clothes_window'
                icon_size: root.height / 30






<Loading>
    name: 'loading'
    MDFloatLayout:
        FitImage:
            id: img
            source: 'Data/Image//loading morning.png'

<SignIn>
    name: 'sign_in'
    email: email
    password:password
    sign_up_btn:
    slide: slide
    back: back
    card: card
    MDFloatLayout:
        FitImage:
            id: back
            source: 'Data/Image//loading morning.png'
        MDCard:
            id: card
            size_hint: (.9, .37)
            pos_hint:{'center_x': .5, 'center_y': .5}
            md_bg_color:rgba(196, 191, 196, 255)
            radius: [self.height//20]
            Carousel:
                id: slide
                min_move: 10
                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .5}
                    MDTextField:
                        id:email
                        text: ''
                        text_color_normal:'white'
                        size_hint: (.9, .21)
                        icon_left: "email"
                        icon_left_color_normal:'white'
                        multiline:False
                        hint_text:'Email'
                        font_size:root.height / 50
                        color_mode: 'custom'
                        hint_text_color_normal: 'white'
                        pos_hint:{'center_x': .5, 'center_y': .68}
                    MDFillRoundFlatButton:
                        id: next_btn
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size: root.height / 40
                        text_color: 'white'
                        text: 'ДАЛЬШЕ'
                        on_release:
                            root.next()

                        md_bg_color: rgba(158,153,163, 255)
                    MDRoundFlatButton:
                        id: sign_up_btn
                        text: "ЗАРЕГИСТРИРОВАТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:root.height / 40
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: "white"
                        line_color: "white"
                        on_release:
                            root.manager.current = 'sign_up'
                    MDTextButton:
                        id: skip
                        halign: 'center'
                        text: "Пропустить"
                        size_hint_x:  .5
                        font_size: root.height / 48
                        color: rgba(135, 135, 135, 255)
                        pos_hint:{'center_x': .5, 'center_y': .11}
                        on_release:
                            root.skip_btn()
                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .5}
                    MDTextField:
                        id:password
                        text: ''
                        text_color_normal:'white'
                        size_hint: (.9, .21)
                        multiline:False
                        hint_text:'Пароль'
                        font_size:root.height / 50
                        pos_hint:{'center_x': .5, 'center_y': .68}
                        hint_text_color_normal: 'white'
                        password: True
                        icon_left: "key-variant"
                        icon_left_color_normal:'white'
                    MDIconButton:
                        icon: "eye-off"
                        pos_hint: {'center_x': .9, "center_y": .69}
                        on_release:
                            self.icon = "eye" if self.icon == "eye-off" else "eye-off"
                            password.password = False if password.password is True else True
                    MDFillRoundFlatButton:
                        id: log_in_btn
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size:root.height / 40
                        md_bg_color: rgba(158,153,163, 255)
                        text_color: 'white'
                        text: 'ВОЙТИ'
                        on_release:
                            root.log_in_information()

                    MDRoundFlatButton:
                        id: previous_btn
                        text: "ВЕРНУТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:root.height / 40
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: "white"
                        line_color: "white"
                        on_release:
                            root.previous()

                    MDTextButton:
                        id: frgt_password
                        text: "Забыли пароль?"
                        halign: 'center'
                        size_hint_x:  .5
                        font_size:root.height / 48
                        color: "orange"
                        pos_hint:{'center_x': .5, 'center_y': .12}
                        on_release:
                            root.manager.current = 'menu_window'
        MDLabel:
            halign: 'center'
            id: entry
            font_size:root.height / 24
            text: 'Вход'
            pos_hint:{'center_x': .5, 'center_y': .65}
<SignUp>
    name: 'sign_up'
    slide:slide
    frst_name:frst_name
    last_name:last_name
    next_btn1:next_btn1
    next_btn2:next_btn2
    next_btn3:next_btn3
    email:email
    number:number
    password: password
    repeat_password:repeat_password
    sign_in_btn:sign_in_btn
    previous_btn1: previous_btn1
    previous_btn2:previous_btn2
    num1:num1
    num2:num2
    num3:num3
    progressbar1:progressbar1
    progressbar2:progressbar2

    MDFloatLayout:
        FitImage:
            source: 'Data/Image//loading night.png'
        MDCard:
            size_hint: (.9, .37)
            pos_hint:{'center_x': .5, 'center_y': .5}
            md_bg_color:rgba(51,52,98, 255)
            radius: [self.height//20]

            Carousel:
                id: slide
                min_move: 10
                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .34}
                    MDTextField:
                        id:frst_name
                        text: ''
                        size_hint: (.9, .21)
                        icon_left: "account"
                        multiline:False
                        hint_text:'Имя'
                        font_size: root.height / 50
                        color_mode: 'custom'
                        pos_hint:{'center_x': .5, 'center_y': .82}
                        line_color_normal:'white'
                        icon_left_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    MDTextField:
                        id:last_name
                        text: ''
                        size_hint: (.9, .21)
                        multiline:False
                        hint_text:'Фамилия'
                        font_size: root.height / 50
                        pos_hint:{'center_x': .5, 'center_y': .65}
                        hint_text_color_normal: rgba(135, 135, 135, 255)
                        icon_left: "account"
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    MDFillRoundFlatButton:
                        id: next_btn1
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size: root.height / 45
                        text: 'ДАЛЬШЕ'
                        on_release:
                            root.next1()
                        md_bg_color: rgba(48,154,239,255)
                        text_color: 'white'
                    MDRoundFlatButton:
                        id: sign_in_btn
                        text: "ВЕРНУТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:root.height / 45
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: rgba(48,154,239,255)
                        line_color: rgba(48,154,239,255)
                        on_release:
                            root.previous1()
                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .34}
                    MDTextField:
                        id:email
                        text: ''
                        size_hint: (.9, .21)
                        icon_left: "email"
                        multiline:False
                        hint_text:'Email'
                        font_size:
                        color_mode: 'custom'
                        pos_hint:{'center_x': .5, 'center_y': .82}
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    MDTextField:
                        id:number
                        text: ''
                        size_hint: (.9, .21)
                        multiline:False
                        hint_text:'Номер телефона'
                        font_size:
                        pos_hint:{'center_x': .5, 'center_y': .65}
                        hint_text_color_normal: rgba(135, 135, 135, 255)
                        icon_left: "phone"
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    MDFillRoundFlatButton:
                        id: next_btn2
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size:root.height / 45
                        text: 'ДАЛЬШЕ'
                        on_release:
                            root.next2()
                        md_bg_color: rgba(48,154,239,255)
                        text_color: 'white'
                    MDRoundFlatButton:
                        id: previous_btn1
                        text: "ВЕРНУТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:root.height / 45
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: rgba(48,154,239,255)
                        line_color: rgba(48,154,239,255)
                        on_release:
                            root.previous2()
                MDFloatLayout:
                    pos_hint:{'center_x': .5, 'center_y': .34}
                    MDTextField:
                        id:password
                        password: True
                        text: ''
                        size_hint: (.9, .21)
                        icon_left: "key-variant"
                        multiline:False
                        hint_text:'Пароль'
                        font_size:
                        color_mode: 'custom'
                        pos_hint:{'center_x': .5, 'center_y': .82}
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    MDTextField:
                        id:repeat_password
                        password: True
                        text: ''
                        size_hint: (.9, .21)
                        multiline:False
                        hint_text:'Повторите пароль'
                        font_size:
                        pos_hint:{'center_x': .5, 'center_y': .65}
                        hint_text_color_normal: rgba(135, 135, 135, 255)
                        icon_left: "key-variant"
                        icon_left_color_normal:'white'
                        line_color_normal:'white'
                        text_color_normal: 'white'
                        hint_text_color_normal: 'white'
                        line_color_focus: rgba(48,154,239,255)
                        hint_text_color_focus: rgba(48,154,239,255)
                        icon_left_color_focus: rgba(48,154,239,255)
                        text_color_focus:rgba(48,154,239,255)

                    MDFillRoundFlatButton:
                        id: next_btn3
                        size_hint: (.9, .14)
                        pos_hint:{'center_x': .5, 'center_y': .45}
                        font_size:root.height / 45
                        text: 'ДАЛЬШЕ'
                        on_release:
                            root.next3()
                        md_bg_color: rgba(48,154,239,255)
                        text_color: 'white'
                    MDRoundFlatButton:
                        id: previous_btn2
                        text: "ВЕРНУТЬСЯ"
                        theme_text_color: "Custom"
                        font_size:root.height / 45
                        size_hint: (.9, .14)
                        pos_hint:{ 'center_x': .5, 'center_y': .27}
                        text_color: rgba(48,154,239,255)
                        line_color: rgba(48,154,239,255)
                        on_release:
                            root.previous3()
        MDIconButton:
            id: num1
            icon: 'numeric-1-circle'
            pos_hint:{'center_x': .20, 'center_y': .63}
            icon_size:root.height / 25
            theme_icon_color: "Custom"
            icon_color:
        MDIconButton:
            id: num2
            theme_icon_color: "Custom"
            icon_color:
            icon: 'numeric-2-circle'
            pos_hint:{'center_x': .5, 'center_y': .63}
            icon_size:root.height / 25
            icon_color:
        MDIconButton:
            id: num3
            icon: 'numeric-3-circle'
            pos_hint:{'center_x': .8, 'center_y': .63}
            icon_size: root.height / 25
            theme_icon_color: "Custom"
            icon_color:
        MDProgressBar:
            id: progressbar1
            size_hint_x: .15
            color: rgba(48,154,239,255)
            pos_hint:{'center_x': .35, 'center_y': .63}
            value:
        MDProgressBar:
            id: progressbar2
            size_hint_x: .15
            color: rgba(48,154,239,255)
            pos_hint:{'center_x': .65, 'center_y': .63}
            value:


<EmailConfirmation>
    name: 'email_confirmation'
    email_conf: email_conf
    text:text
    conf_code: conf_code
    send_code:send_code
    return_to_sign_up:return_to_sign_up
    MDFloatLayout:
        FitImage:
            source: 'Data/Image//loading night.png'
        MDFloatLayout:
            size_hint: (.9, .37)
            pos_hint:{'center_x': .5, 'center_y': .5}
            canvas:
                Color:
                    rgb: rgba(51,52,98, 255)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [self.height//20]
            MDLabel:
                id: email_conf
                halign: 'center'
                font_size:root.height / 28
                text: 'Подтвердите Email'
                pos_hint:{'center_x': .5, 'center_y': .86}
            MDLabel:
                id: text
                font_size:root.height / 58
                text: 'Мы выслали вам 4-х значный код на Email.\nВведите его в поле ниже'
                pos_hint:{'center_x': .58, 'center_y': .7}
            MDTextField:
                id:conf_code
                text: ''
                size_hint: (.9, .21)
                multiline:False
                hint_text:'Код подтверждения'
                font_size:
                pos_hint:{'center_x': .5, 'center_y': .5}
                hint_text_color_normal: rgba(135, 135, 135, 255)
                line_color_normal:'white'
                text_color_normal: 'white'
                hint_text_color_normal: 'white'
                line_color_focus: rgba(48,154,239,255)
                hint_text_color_focus: rgba(48,154,239,255)
                icon_left_color_focus: rgba(48,154,239,255)
                text_color_focus:rgba(48,154,239,255)

            MDFillRoundFlatButton:
                id: send_code
                size_hint: (.9, .14)
                pos_hint:{'center_x': .5, 'center_y': .3}
                font_size:root.height / 45
                text: 'ПОДТВЕРДИТЬ КОД'
                on_release:
                    root.manager.get_screen('email_confirmation').checking_code()
                text_color: 'white'
                md_bg_color: rgba(48,154,239,255)
            MDRoundFlatButton:
                id: return_to_sign_up
                text: "ВЕРНУТЬСЯ"
                theme_text_color: "Custom"
                font_size:root.height / 45
                size_hint: (.9, .14)
                pos_hint:{ 'center_x': .5, 'center_y': .12}
                text_color: rgba(48,154,239,255)
                line_color: rgba(48,154,239,255)
                on_release:
                    root.manager.get_screen('sign_up').ids.num3.icon = 'numeric-3-circle'
                    root.manager.get_screen('sign_up').ids.num3.icon_color = 'white'
                    root.manager.current = 'sign_up'


<MenuWindow>
    name: 'menu_window'
    btn: btn
    back: back
    time: time
    city:city
    sost:sost
    temp:temp
    prssr: prssr
    prssr_img:prssr_img
    hmdt: hmdt
    hmdt_img: hmdt_img
    feels_like_temp:feels_like_temp
    wnd: wnd
    wnd_img: wnd_img
    temperature_img:temperature_img
    gl:gl
    menu:menu
    lat:lat
    lon:lon
    user: user
    nav_drawer:nav_drawer
    login_logout:login_logout
    image_synchronization:image_synchronization
    email:email
    on_enter:
        app.anim(.07)
    MDLabel:
        id: lat
        text: ''
    MDLabel:
        id: lon
        text: ''
    FitImage:
        id: back
        source: ''
    MDFloatLayout:
        size_hint_x: None
        size_hint_y: None
        size: root.width, root.height*1

        MDIconButton:
            id:menu
            icon:'menu'
            icon_size:root.height / 23
            pos_hint: {"center_x": .09, "center_y": .95}
            on_release:
                nav_drawer.set_state("open")
        MDIconButton:
            icon:'map-marker-circle'
            icon_size:root.height / 23
            opacity: .5
            theme_icon_color: "Custom"
            icon_color: rgba(0, 0, 0, 255)
            pos_hint:{'x': .82, 'y': .832}
            on_release:
                root.manager.get_screen('my_clothes_window').ids.box.clear_widgets()
                root.manager.get_screen('clothes_window').ids.box.clear_widgets()
                root.weather_at_city(root.geo)
                root.manager.get_screen('place').ids.box.clear_widgets()
                root.manager.get_screen('place').ids.fl.clear_widgets()
                root.manager.get_screen('place').ids.search.background_normal ="Data/Image//search.png"
                root.manager.get_screen('place').ids.search.background_down ="Data/Image//search.png"
                root.manager.get_screen('place').ids.text1.text ='Выберете категорию'
                root.manager.get_screen('place').ids.slide.size_hint = (.9, .5)
                root.manager.get_screen('place').ids.slide.pos_hint = {'center_x': .5, 'center_y': .35}
        MDFloatLayout:
            size_hint: (.6, .044)
            pos_hint:{'x': .2, 'y': .88}
            canvas:
                Color:
                    rgb: rgba(255, 255, 255, 255)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [root.height//100, root.height//100, root.height//100, root.height//100]
        MDFloatLayout:
            size_hint: (.6, .044)
            pos_hint:{'x': .2, 'y': .825}
            opacity: .12
            canvas:
                Color:
                    rgb: rgba(0, 0, 0, 255)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [root.height//100,root.height// 100, root.height//100, root.height//100]
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: (.6, .15)
            pos_hint:{'x': .2, 'y': .825}
            spacing:8

            MDLabel:
                halign: 'center'
                id: time
                text: ''
                font_size:root.height / 22
                font_name:
            TextInput:
                id: city
                halign: 'center'
                text: ''
                hint_text: 'Введите город'
                font_size:root.height / 42
                multiline: False
                padding:
                background_color: 1, 1, 1, 0
            MDFlatButton:
                id: btn
                pos_hint: {"center_x": .5, "center_y": .5}
                font_size:root.height / 50
                text: 'Узнать погоду'
                on_release: root.manager.get_screen('menu_window').get_city()
                text_color: 'white'

        MDBoxLayout:
            orientation:"vertical"
            size_hint: (1, .1)
            pos_hint:{'center_x': 0.5, 'center_y': .68}
            spacing: 30
            MDLabel:
                halign: 'center'
                id:sost
                text:''
                font_size:root.height / 38
            MDLabel:
                halign: 'center'
                id:temp
                text:''
                font_size:root.height / 10

        MDGridLayout:
            cols:2
            size_hint:(.9, .3)
            pos_hint: {'x': .21, 'center_y': .4}
            MDLabel:
                id: prssr
                text:''
                font_size:root.height / 53
            MDLabel:
                id: hmdt
                text:''
                font_size:root.height / 53

            MDLabel:
                id: wnd
                text:''
                font_size:root.height / 53
            MDLabel:
                id: feels_like_temp
                text:''
                font_size:root.height / 53

        FitImage:
            id: prssr_img
            size_hint:(.06* root.height / root.width, .06)
            pos_hint:{'x': .067, 'center_y': .472}
            source: ''

        FitImage:
            id: hmdt_img
            source: ''
            size_hint:(.063* root.height / root.width, .063)
            pos_hint:{'x': .53, 'center_y': .472}
        FitImage:
            id: wnd_img
            source: ''
            size_hint:(.06* root.height / root.width, .06)
            pos_hint:{'x': .067, 'center_y': .322}
        FitImage:
            id: temperature_img
            source: ''
            size_hint:(.06* root.height / root.width, .06)
            pos_hint:{'x': .53, 'center_y': .322}
        MDFloatLayout:
            size_hint:(.95, .25)
            pos_hint: {'center_x': .5, 'center_y': .4}
            opacity: .12
            canvas:
                Color:
                    rgb: rgba(0, 0, 0, 255)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [root.height//60,root.height// 60, root.height//60, root.height//60]

        ScrollView:
            size_hint:(1, .17)
            pos_hint: {'center_x': .5, 'center_y': .18}
            do_scroll_x: True
            do_scroll_y: False
            GridLayout:
                id: gl
                size_hint_x: None
                cols:10
                spacing: root.width//40
                height:root.height//20
                width: self.minimum_width

        MDNavigationDrawer:
            id: nav_drawer
            radius: (0, 16, 16, 0)
            scrim_color: 0, 0, 0, .2
            opacity: .12

            MDNavigationDrawerMenu:
                halign: 'center'
                MDNavigationDrawerHeader:
                    id: user
                    title: "Здравствуйте,"
                    title_color: "white"
                    text: "вы еще не вошли в аккаунт"
                    spacing: "8dp"
                    padding: "12dp", 0, 0, "56dp"

                DrawerLabelItem:
                    id: email
                    icon: "email"
                    text: ""
                    close_on_click: True
                    text_color: "white"
                    selected_color: "white"

                DrawerLabelItem:
                    id: image_synchronization
                    icon: "folder-image"
                    text: ""
                    close_on_click: True
                    text_color: "white"
                    selected_color: "white"
                    on_release:
                        root.image_synchronization_press()

                MDNavigationDrawerDivider:

                DrawerLabelItem:
                    id: login_logout
                    icon: "login"
                    text: "Войти"
                    close_on_click: True
                    text_color: "white"
                    selected_color: "white"
                    on_release:
                        root.login_logout_press()
                        app.anim(0)
                        root.manager.get_screen('my_clothes_window').ids.box.clear_widgets()




<MyClothesWindow>
    name: "my_clothes_window"
    back:back
    drop_down:drop_down
    blank:blank
    box:box
    FitImage
        id: back
        source: ''
    MDLabel:
        id: blank
        font_size:root.height / 30
        text: ''
        halign:'center'

    ScrollView:
        MDGridLayout:
            id: box
            size_hint_y: .8
            pos_hint:{ 'center_x': .5, 'center_y': .2}
            cols: 2
            spacing: "12dp"
            padding: "12dp"
            adaptive_height: True
    MDFloatLayout:
        size_hint_y: .07
        pos_hint:{'top':1}
        MDFloatLayout:
            pos_hint:{'top':1}
            md_bg_color: 'black'
            opacity: .12
        MDDropDownItem:
            id: drop_down
            pos_hint: {'center_x': .5, 'center_y': .5}
            text: 'Стиль'
            font_size: root.height//40
            on_release: root.drp_down()




<ClothesWindow>
    name: "clothes_window"
    back:back
    drop_down:drop_down
    blank:blank
    box:box
    gender:gender
    FitImage
        id: back
        source: ''
    MDLabel:
        id: blank
        font_size:root.height / 30
        text: ''
        halign:'center'

    ScrollView:
        MDGridLayout:
            id: box
            size_hint_y: .8
            pos_hint:{ 'center_x': .5, 'center_y': .2}
            cols: 2
            spacing: "12dp"
            padding: "12dp"
            adaptive_height: True
    MDFloatLayout:
        size_hint_y: .07
        pos_hint:{'top':1}
        MDFloatLayout:
            pos_hint:{'top':1}
            md_bg_color: 'black'
            opacity: .3

        MDIconButton:
            id:gender
            pos_hint:{'center_x':.65, 'center_y': .5}
            icon: 'gender-male'
            icon_size:root.height / 26
            on_release:
                self.icon = "gender-female" if self.icon == "gender-male" else "gender-male"
                root.box.clear_widgets()
                root.add_images()
        MDDropDownItem:
            id: drop_down
            pos_hint:{'center_x':.35, 'center_y': .5}
            text: 'Стиль'
            font_size: root.height//40
            on_release: root.drp_down()




<CameraScreen>
    name: 'camera'
    camera:camera
    image_btn:image_btn
    take_photo:take_photo
    drop_down:drop_down


    FloatLayout:
        Camera:
            id: camera
            size_hint: (1, 1)
            resolution: (1080, 1920)
            play: False
            allow_stretch: True
            keep_ratio: True
            canvas.before:
                PushMatrix
                Rotate:
                    angle: -90
                    origin: self.center
            canvas.after:
                PopMatrix
        MDIconButton:
            id: take_photo
            icon: 'checkbox-blank-circle-outline'
            pos_hint:{ 'center_x': .5, 'center_y': .15}
            icon_size:root.height // 12
            on_release:root.take_photo_function()
        MDIconButton:
            id: image_btn
            icon: 'image'
            pos_hint:{ 'center_x': .8, 'center_y': .15}
            icon_size:root.height // 22
            on_release:
        MDDropDownItem:
            id: drop_down
            pos_hint: {'center_x': .5, 'center_y': .95}
            text: 'Выберите стиль'
            on_release: root.drp_down()


<Place>
    name: 'place'
    back: back
    brock: brock
    text1: text1
    map:map
    search:search
    switching:switching
    box:box
    fl:fl
    slide:slide

    MDFloatLayout:

        FitImage:
            id: back
            source: ''
        MDFloatLayout
            id: brock
        MDLabel:
            halign: 'center'
            id: text1
            text: 'Выберите категорию'
            pos_hint:{ 'center_x': .5, 'center_y': .9}
            font_size:root.height / 20

        Button:
            id: search
            halign: 'center'
            background_normal: "Data/Image//search.png"
            background_down: "Data/Image//search.png"
            pos_hint:{ 'center_x': .5, 'center_y': .8}
            size_hint:(.1* root.height / root.width, .1)
            on_release:
                root.category()
        MDFloatLayout:
            md_bg_color: 'white'
            pos_hint:{'center_x': .5, 'center_y': .72}
            size_hint:(.004, .02)
        MDFloatLayout:
            id: switching
            pos_hint:{'center_x': .325, 'center_y': .72}
            size_hint:(.31, .04)
            opacity: .12
            canvas:
                Color:
                    rgb: rgba(0, 0, 0, 255)
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [self.height//2.5]



        MDBoxLayout:
            pos_hint:{'center_x': .5, 'center_y': .72}
            size_hint:(.7, .04)

            MDRoundFlatButton:
                text: "Список"
                text_color: "white"
                size_hint_x: .5
                font_size: root.height//50
                line_color: 1, 1, 1, 0
                on_release:
                    root.segmented_control(switching, 0.325)
                    root.slide.load_previous()

            MDRoundFlatButton:
                text: "Карта"
                font_size: root.height//50
                text_color: "white"
                size_hint_x: .5
                line_color: 1, 1, 1, 0
                on_release:
                    root.segmented_control(switching, 0.675)
                    root.slide.load_next(mode='next')
        Carousel:
            id: slide
            min_move: 10
            size_hint: (.9, .5)
            pos_hint:{'center_x': .5, 'center_y': .35}
            MDFloatLayout:
                MDScrollView:
                    pos_hint:{'center_x': .55, 'center_y': .5}
                    do_scroll_x: False
                    do_scroll_y: True
                    MDBoxLayout:
                        id:box
                        size_hint_y: None
                        size_hint_x: .9
                        height: self.minimum_height
                        halign: 'center'
                        orientation: 'vertical'
            MDFloatLayout:
                MDFloatLayout:
                    id:fl
                    pos_hint:{'center_x': .5, 'center_y': .5}


<ClothesImage>
    name: 'clothes_image'
    back: back
    FitImage:
        id: back
        source: ''
    MDIconButton:
        icon: 'arrow-left'
        pos_hint:{ 'center_x': .1, 'center_y': .95}
        icon_size: root.height // 18
        on_release:
            root.manager.current = 'my_clothes_window'

<ClothesImage2>
    name: 'clothes_image2'
    back: back
    FitImage:
        id: back
        source: ''
    MDIconButton:
        icon: 'arrow-left'
        pos_hint:{ 'center_x': .1, 'center_y': .95}
        icon_size: root.height // 18
        on_release:
            root.manager.current = 'clothes_window'

<UploadingImages>
    name: 'uploading_images'
    icon:icon
    back:back
    progress:progress
    inf:inf
    on_enter:
        app.anim(0)
    MDFloatLayout:
        FitImage:
            id: back
            source: ''
        FitImage:
            id: icon
            source: 'Data/Image/icon_loading.png'
            size_hint:(.12* root.height / root.width, .12)
            pos_hint: {'center_x': 0.5, 'center_y': 0.67 }
        MDProgressBar:
            id: progress
            type: "determinate"
            running_duration: 1
            catching_duration: 1.5
            pos_hint: {'center_x': .5, "center_y": .6}
            size_hint_x: .8
        MDLabel:
            halign: 'center'
            id: inf
            font_size:root.height / 50
            text: 'Загружено'
            pos_hint:{'center_x': .5, 'center_y': .56}


